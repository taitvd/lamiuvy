<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ch√∫c m·ª´ng 20/10 ‚Äì G·ª≠i Em Y√™u</title>
  <style>
    :root{
      --bg1:#ffdde1;
      --bg2:#ee9ca7;
      --card-bg: rgba(255,255,255,0.85);
      --text:#3a3a3a;
      --accent:#ff4d6d;
      --accent2:#ffbe0b;
    }
    *{box-sizing:border-box}
    html,body{
      margin:0;
      padding:0;
      height:100%;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
      color:var(--text);
      background: radial-gradient(circle at 20% 10%, #fff5f6 0%, #fff 25%, transparent 26%) 0 0/50px 50px,
                  linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow:hidden;
    }
    .wrap{
      position:relative;
      height:100%;
      width:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      text-align:center;
    }
    .card{
      position:relative;
      max-width:720px;
      width:100%;
      border-radius:24px;
      background: var(--card-bg);
      backdrop-filter: blur(6px);
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      padding:28px 22px 24px;
      animation: pop 700ms cubic-bezier(.2,.9,.25,1.3);
    }
    @keyframes pop {
      0%{ transform: scale(.9); opacity:0 }
      100%{ transform: scale(1); opacity:1 }
    }
    h1{
      margin:.2em 0 .4em;
      font-size: clamp(28px, 5vw, 46px);
      line-height:1.15;
    }
    .subtitle{
      font-size: clamp(14px, 3.6vw, 18px);
      opacity:.9;
      margin-bottom:14px;
    }
    .msg{
      font-size: clamp(16px, 4vw, 22px);
      line-height:1.55;
      margin: 14px auto 18px;
      white-space: pre-line;
    }
    .heart{
      display:inline-block;
      font-size: 28px;
      animation: beat 1.2s ease-in-out infinite;
      transform-origin:center;
      filter: drop-shadow(0 2px 6px rgba(255,77,109,.45));
    }
    @keyframes beat{
      0%, 100%{ transform: scale(1) }
      20%{ transform: scale(1.15) }
      40%{ transform: scale(0.98) }
      60%{ transform: scale(1.2) }
      80%{ transform: scale(1.02) }
    }
    .cta{
      margin-top: 8px;
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
    }
    button{
      cursor:pointer;
      border:none;
      border-radius:999px;
      padding:14px 20px;
      font-size:16px;
      font-weight:700;
      color:#fff;
      background: linear-gradient(135deg, var(--accent), #ff758f);
      box-shadow: 0 10px 24px rgba(255,77,109,.35);
      transition: transform .15s ease, box-shadow .15s ease, filter .15s ease;
      touch-action: manipulation;
    }
    button.secondary{
      background: linear-gradient(135deg, #4f46e5, #7c3aed);
      box-shadow: 0 10px 24px rgba(79,70,229,.35);
    }
    button:active{ transform: translateY(1px) scale(.98) }
    .footer{
      margin-top: 8px;
      font-size: 12px;
      opacity: .7;
    }
    canvas#confetti, canvas#fireworks{
      position:fixed;
      inset:0;
      width:100vw;
      height:100vh;
      pointer-events:none;
    }
  </style>
</head>
<body>
  <canvas id="confetti"></canvas>
  <canvas id="fireworks"></canvas>
  <div class="wrap">
    <div class="card">
      <div class="subtitle">Vietnamese Women's Day ¬∑ 20/10</div>
      <h1>Ch√∫c m·ª´ng 20/10, Em y√™u! <span class="heart">‚ù§Ô∏è</span></h1>
      <div class="msg">
        ch√∫c em y√™u c·ªßa anh 20/10 th·∫≠t vui v·∫ª, lu√¥n xinh ƒë·∫πp,
        lu√¥n nh·∫≠n ƒë∆∞·ª£c nh·ªØng ƒëi·ªÅu t·ªët ƒë·∫πp v√† th·∫≠t h·∫°nh ph√∫c nh√© ‚ù§Ô∏è
      </div>
      <div class="cta">
        <button id="btnCelebrate">B·∫•m ƒë·ªÉ b·∫Øn ph√°o gi·∫•y üéâ</button>
        <button id="btnFireworks" class="secondary">Ph√°o hoa lung linh ‚ú®</button>
      </div>
      <div class="footer">M·∫πo: L·∫Øc ƒëi·ªán tho·∫°i ho·∫∑c b·∫•m nhi·ªÅu l·∫ßn ƒë·ªÉ ‚Äúm∆∞a‚Äù qu√† üéä</div>
    </div>
  </div>

  <script>
    // Responsive canvases
    const confettiCanvas = document.getElementById('confetti');
    const fireworksCanvas = document.getElementById('fireworks');
    const cctx = confettiCanvas.getContext('2d');
    const fctx = fireworksCanvas.getContext('2d');

    function fitCanvases(){
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
      fireworksCanvas.width = window.innerWidth;
      fireworksCanvas.height = window.innerHeight;
    }
    fitCanvases();
    addEventListener('resize', fitCanvases);

    // -------- Confetti (no external libs) --------
    const colors = ['#ff4d6d','#ffbe0b','#3a86ff','#8338ec','#fb5607','#2ec4b6'];
    const confettiPieces = [];
    const GRAVITY = 0.15;
    const DRAG = 0.004;
    const SPREAD = Math.PI / 2;

    function spawnConfetti(x, y, count = 160, power = 12){
      for(let i=0;i<count;i++){
        const angle = -Math.PI/2 + (Math.random() - 0.5) * SPREAD * 2;
        const mag = power * (0.5 + Math.random());
        confettiPieces.push({
          x, y,
          vx: Math.cos(angle) * mag,
          vy: Math.sin(angle) * mag,
          w: 6 + Math.random()*6,
          h: 10 + Math.random()*12,
          r: Math.random()*Math.PI,
          vr: (Math.random()-0.5)*0.3,
          color: colors[(Math.random()*colors.length)|0],
          opacity: 1,
        });
      }
    }

    function updateConfetti(){
      for(let i=confettiPieces.length-1;i>=0;i--){
        const p = confettiPieces[i];
        p.vx *= (1 - DRAG);
        p.vy += GRAVITY;
        p.x += p.vx;
        p.y += p.vy;
        p.r += p.vr;
        p.opacity -= 0.004;
        if(p.y > confettiCanvas.height + 40 || p.opacity <= 0) confettiPieces.splice(i,1);
      }
    }

    function drawConfetti(){
      cctx.clearRect(0,0,confettiCanvas.width, confettiCanvas.height);
      confettiPieces.forEach(p=>{
        cctx.save();
        cctx.globalAlpha = Math.max(0, p.opacity);
        cctx.translate(p.x, p.y);
        cctx.rotate(p.r);
        cctx.fillStyle = p.color;
        cctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
        cctx.restore();
      });
    }

    function loopConfetti(){
      updateConfetti();
      drawConfetti();
      requestAnimationFrame(loopConfetti);
    }
    loopConfetti();

    // Button actions
    document.getElementById('btnCelebrate').addEventListener('click', ()=>{
      const cx = window.innerWidth/2;
      const cy = window.innerHeight*0.25;
      spawnConfetti(cx, cy, 200, 14);
      // Side bursts
      spawnConfetti(cx*0.4, cy*0.8, 100, 11);
      spawnConfetti(cx*1.6, cy*0.8, 100, 11);
      navigator.vibrate?.(60);
    });

    // Shake to celebrate (mobile)
    let lastAccel = {x:0,y:0,z:0}, lastTime = 0;
    if (window.DeviceMotionEvent){
      window.addEventListener('devicemotion', (e)=>{
        const acc = e.accelerationIncludingGravity || e.acceleration;
        const now = Date.now();
        if(!acc) return;
        const delta = Math.abs(acc.x-lastAccel.x)+Math.abs(acc.y-lastAccel.y)+Math.abs(acc.z-lastAccel.z);
        if(delta > 30 && (now - lastTime) > 800){
          lastTime = now;
          const rx = Math.random()*innerWidth*0.8 + innerWidth*0.1;
          const ry = innerHeight*0.3 + Math.random()*80;
          spawnConfetti(rx, ry, 180, 14);
          navigator.vibrate?.([40,40,40]);
        }
        lastAccel = {x:acc.x||0, y:acc.y||0, z:acc.z||0};
      }, true);
    }

    // -------- Fireworks (simple particles) --------
    const fireworks = [];
    function launchFirework(){
      const x = Math.random()*fireworksCanvas.width*0.8 + fireworksCanvas.width*0.1;
      const y = Math.random()*fireworksCanvas.height*0.35 + fireworksCanvas.height*0.15;
      const parts = 80 + (Math.random()*40|0);
      const hueBase = Math.random()*360;
      const burst = [];
      for(let i=0;i<parts;i++){
        const a = (i/parts)*Math.PI*2;
        const speed = 2 + Math.random()*3.2;
        const hue = hueBase + (Math.random()*40-20);
        burst.push({
          x, y,
          vx: Math.cos(a)*speed,
          vy: Math.sin(a)*speed,
          life: 60 + (Math.random()*25|0),
          age:0,
          hue
        });
      }
      fireworks.push(burst);
    }

    function drawFireworks(){
      fctx.fillStyle = 'rgba(0,0,0,0.08)';
      fctx.fillRect(0,0,fireworksCanvas.width, fireworksCanvas.height);
      fireworks.forEach((burst, bi)=>{
        burst.forEach((p, i)=>{
          p.age++;
          p.x += p.vx;
          p.y += p.vy;
          p.vy += 0.02;
          const alpha = Math.max(0, 1 - p.age/p.life);
          fctx.beginPath();
          fctx.arc(p.x, p.y, 2, 0, Math.PI*2);
          fctx.fillStyle = `hsla(${p.hue}, 100%, 60%, ${alpha})`;
          fctx.fill();
        });
        // remove ended
        if (burst.every(p=>p.age>=p.life)) fireworks.splice(bi,1);
      });
      requestAnimationFrame(drawFireworks);
    }
    drawFireworks();

    document.getElementById('btnFireworks').addEventListener('click', ()=>{
      for(let i=0;i<5;i++){
        setTimeout(launchFirework, i*220);
      }
      navigator.vibrate?.(80);
    });

    // Auto gentle confetti once on load
    setTimeout(()=>{
      spawnConfetti(innerWidth*0.5, innerHeight*0.28, 120, 10);
    }, 700);
  </script>
</body>
</html>
